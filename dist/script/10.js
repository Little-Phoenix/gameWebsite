webpackJsonp([10],{442:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(21),l=a(534),r=s(l),u=a(535),i=s(u);t["default"]=function(e,t){(0,n.injectReducer)(e,{key:"taskList",reducer:i["default"]}),t(null,r["default"])}},449:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(450),l=s(n);t["default"]=l["default"]},450:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(55),l=s(n),r=a(53),u=s(r),i=a(54),o=s(i),c=a(57),d=s(c),f=a(56),p=s(f),m=a(3),v=s(m),h=function(e){function t(){return(0,u["default"])(this,t),(0,d["default"])(this,(0,l["default"])(t).apply(this,arguments))}return(0,p["default"])(t,e),(0,o["default"])(t,[{key:"render",value:function(){var e=this,t=this.props;return v["default"].createElement("ul",{className:t.tabClassName},t.tabs.map(function(a,s){var n=s===t.tabNum?"active-nav":"";return v["default"].createElement("li",{key:s,onClick:t.tabChange.bind(e,s),className:n},v["default"].createElement("span",null,a.title))}))}}]),t}(v["default"].Component);h.propTypes={tabNum:m.PropTypes.number,tabs:m.PropTypes.array,tabChange:m.PropTypes.func.isRequired,tabClassName:m.PropTypes.string},h.defaultProps={tabClassName:"list-nav"},t["default"]=h},458:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(459),l=s(n);t["default"]=l["default"]},459:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(3),l=s(n),r=function(e){return l["default"].createElement("div",{className:"compare-wrap"},l["default"].createElement("div",{className:"compare-top border-bottom"},l["default"].createElement("p",{className:"border-right"},"日期"),l["default"].createElement("p",{className:""},e.compareTitle)),l["default"].createElement("ul",null,e.compareMessage.map(function(e,t){return l["default"].createElement("li",{key:t,className:""},l["default"].createElement("span",{className:"border-right"},e.c_date),l["default"].createElement("span",{className:"progress"},(e.sum_money/100).toFixed(2),"元"))})))};r.propTypes={compareMessage:n.PropTypes.array.isRequired,compareTitle:n.PropTypes.string.isRequired},r.defaultProps={compareMessage:[]},t["default"]=r},460:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(461),l=s(n);t["default"]=l["default"]},461:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(55),l=s(n),r=a(53),u=s(r),i=a(54),o=s(i),c=a(57),d=s(c),f=a(56),p=s(f),m=a(3),v=s(m),h=a(82),b=function(e){function t(){return(0,u["default"])(this,t),(0,d["default"])(this,(0,l["default"])(t).apply(this,arguments))}return(0,p["default"])(t,e),(0,o["default"])(t,[{key:"render",value:function(){var e=this.props,t="list-data",a="list-content",s="list-icon",n=void 0;"invite"===e.type&&(t="list-data list-data-prentice",a="list-content list-content-prentice",s="list-icon-prentice");var l=void 0;return l=this.props.list.length?v["default"].createElement("ul",{className:"record-list"},e.list.map(function(l,r){var u=void 0,i=void 0,o=void 0,c=void 0,d=void 0;if(d="invite"===e.type?100:l.atmtask.price,"invite"===e.type?(i="icon-"+l.receiver%12,u=v["default"].createElement("div",{className:i}),n="徒弟: "+l.receiver):l.atmtask&&(u=v["default"].createElement("img",{alt:"",src:l.atmtask.ad_icon}),n=l.atmtask.ad_name),l.atmtask&&l.atmtask.ad_name){var f="日"===l.ctime.slice(-1);f||(l.ctime=(0,h.operateTimeFormat)(l.ctime).split(" ")[0]),o=v["default"].createElement("div",{className:"list-desc"},"于",l.ctime,"完成",l.atmtask.ad_name,"任务，您获得",e.title,"奖励！")}d&&(c=v["default"].createElement("div",{className:"list-price progress"},"+",v["default"].createElement("span",null,(d/100).toFixed(2)),"元"));var p=void 0;return p=6===+l.e_type?v["default"].createElement("div",{className:a},v["default"].createElement("h4",null,n),v["default"].createElement("p",null,"深度任务")):v["default"].createElement("div",{className:a},v["default"].createElement("h3",null,n)),v["default"].createElement("li",{key:r},v["default"].createElement("div",{className:t},v["default"].createElement("div",{className:s},u),p,c),o)})):v["default"].createElement("div",{className:"record-none"},"您还没有相关记录！"),v["default"].createElement("div",{className:"record-wrap"},v["default"].createElement("ul",{className:"record-top"},v["default"].createElement("li",null,v["default"].createElement("h5",null,"今日实时数据"),v["default"].createElement("p",null,e.title,"收入: ",v["default"].createElement("span",{className:"progress"},e.income),"元")),v["default"].createElement("li",null,e.title,"人数：",e.count,"个")),l)}}]),t}(v["default"].Component);b.propTypes={list:m.PropTypes.array.isRequired,income:m.PropTypes.string.isRequired,count:m.PropTypes.number.isRequired,title:m.PropTypes.string.isRequired,type:m.PropTypes.string.isRequired},b.defaultProps={list:[],income:0,count:0,title:""},t["default"]=b},533:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(55),l=s(n),r=a(53),u=s(r),i=a(54),o=s(i),c=a(57),d=s(c),f=a(56),p=s(f),m=a(3),v=s(m),h=a(460),b=s(h),y=a(449),k=s(y),_=a(458),g=s(_),E=a(82),T=Math.max(document.documentElement.clientHeight||window.innerHeight),N=function(e){function t(e){(0,u["default"])(this,t);var a=(0,d["default"])(this,(0,l["default"])(t).call(this,e));return a.getTasks=a.getTasks.bind(a),a.previousScroll=0,a}return(0,p["default"])(t,e),(0,o["default"])(t,[{key:"componentDidMount",value:function(){function e(){t.tabChangeCb(0)}this.previousScroll=0;var t=this;document.addEventListener("scroll",(0,E.debounce)(function(){var e=t.props.taskList&&t.props.taskList.tasks||{};return document.body.scrollTop<=t.previousScroll?void(t.previousScroll=document.body.scrollTop):void(document.body.scrollTop+T+150>document.documentElement.offsetHeight&&(t.previousScroll=document.body.scrollTop,e&&e.count>e.results.length&&t.getTasks(t.props.taskList.tasks.next)))},300)),t.getTasks(),t.props.taskList.tab&&setTimeout(e,10)}},{key:"componentDidUpdate",value:function(){var e=this.props.taskList;e.tabs&&!e.tabs[e.tab].checked&&1===e.tab&&(this.getRecords(e.tab),this.props.tabChecked(1))}},{key:"getTasks",value:function(){function e(e){var t=e.results;return t.length&&(e.results=t.filter(function(e){return e.atmtask}),n&&n.length&&(e.results=n.concat(e.results))),e}var t=arguments.length<=0||void 0===arguments[0]?"/trial/exchange/log/":arguments[0],a=this.props,s=a.taskList.tasks,n=s.results;n.length&&n.length===s.count||a.fetchList(t,void 0,"tasks",e)}},{key:"getRecords",value:function(){function e(e){return e.results}this.props.fetchList("/trial/exchange/chart/",void 0,"tasksChart",e)}},{key:"tabChangeCb",value:function(e){this.props.tabChange(e)}},{key:"render",value:function(){var e=this.props.taskList||{},t=e.tasks.results||[],a=e.tasks.today_task_count,s=((e.tasks.today_task_income||0)/100).toFixed(2),n=0===e.tab?v["default"].createElement(b["default"],{list:t,title:"试玩",count:a,income:s,type:"task"}):v["default"].createElement(g["default"],{compareMessage:e.tasksChart,compareTitle:"试玩收入"});return v["default"].createElement("div",{className:"container list-container"},v["default"].createElement(k["default"],{tabs:e.tabs,tabChange:this.tabChangeCb.bind(this),tabNum:e.tab}),n,v["default"].createElement("div",{className:"logo-shadow"},v["default"].createElement("img",{alt:"",src:"http://cc-cdn.dianjoy.com/91atm/images/logo-shadow.png"})))}}]),t}(v["default"].Component);N.propTypes={fetchList:m.PropTypes.func.isRequired,taskList:m.PropTypes.object.isRequired,tabChange:m.PropTypes.func.isRequired,tabChecked:m.PropTypes.func.isRequired},t["default"]=N},534:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(206),l=a(130),r=a(533),u=s(r),i={fetchList:function(e,t,a,s){return(0,l.fetchList)(e,t,a,s)},tabChange:function(e,t,a){return(0,l.tabChange)(e,t,a)},tabChecked:function(e){return(0,l.tabChecked)(e)}},o=function(e){return{taskList:e.taskList}};t["default"]=(0,n.connect)(o,i)(u["default"])},535:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function n(){var e=arguments.length<=0||void 0===arguments[0]?c:arguments[0],t=arguments[1];if(location.pathname!==i.rootPath+"/task-list")return e;var a=o[t.type];return a?a(e,t):e}Object.defineProperty(t,"__esModule",{value:!0});var l=a(129),r=s(l);t["default"]=n;var u=a(21),i=a(44),o=(0,r["default"])({},u.globalHandler),c={tasksChart:[],tasks:{count:0,next:null,previous:null,results:[],today_invite_count:0,today_invite_income:0},tab:0,tabs:[{title:"试玩明细",checked:!0},{title:"历史对比",checked:!1}]}}});