webpackJsonp([12],{420:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(21),o=a(486),l=n(o),i=a(487),c=n(i);t["default"]=function(e,t){(0,r.injectReducer)(e,{key:"bindWchat",reducer:c["default"]}),t(null,l["default"])}},444:function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var a=this[t];a[2]?e.push("@media "+a[2]+"{"+a[1]+"}"):e.push(a[1])}return e.join("")},e.i=function(t,a){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(n[o]=!0)}for(r=0;r<t.length;r++){var l=t[r];"number"==typeof l[0]&&n[l[0]]||(a&&!l[2]?l[2]=a:a&&(l[2]="("+l[2]+") and ("+a+")"),e.push(l))}},e}},445:function(e,t){function a(e,t){for(var a=0;a<e.length;a++){var n=e[a],r=p[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(c(n.parts[o],t))}else{for(var l=[],o=0;o<n.parts.length;o++)l.push(c(n.parts[o],t));p[n.id]={id:n.id,refs:1,parts:l}}}}function n(e){for(var t=[],a={},n=0;n<e.length;n++){var r=e[n],o=r[0],l=r[1],i=r[2],c=r[3],s={css:l,media:i,sourceMap:c};a[o]?a[o].parts.push(s):t.push(a[o]={id:o,parts:[s]})}return t}function r(e,t){var a=m(),n=g[g.length-1];if("top"===e.insertAt)n?n.nextSibling?a.insertBefore(t,n.nextSibling):a.appendChild(t):a.insertBefore(t,a.firstChild),g.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");a.appendChild(t)}}function o(e){e.parentNode.removeChild(e);var t=g.indexOf(e);t>=0&&g.splice(t,1)}function l(e){var t=document.createElement("style");return t.type="text/css",r(e,t),t}function i(e){var t=document.createElement("link");return t.rel="stylesheet",r(e,t),t}function c(e,t){var a,n,r;if(t.singleton){var c=b++;a=v||(v=l(t)),n=s.bind(null,a,c,!1),r=s.bind(null,a,c,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(a=i(t),n=u.bind(null,a),r=function(){o(a),a.href&&URL.revokeObjectURL(a.href)}):(a=l(t),n=d.bind(null,a),r=function(){o(a)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else r()}}function s(e,t,a,n){var r=a?"":n.css;if(e.styleSheet)e.styleSheet.cssText=w(t,r);else{var o=document.createTextNode(r),l=e.childNodes;l[t]&&e.removeChild(l[t]),l.length?e.insertBefore(o,l[t]):e.appendChild(o)}}function d(e,t){var a=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}function u(e,t){var a=t.css,n=t.sourceMap;n&&(a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var r=new Blob([a],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(r),o&&URL.revokeObjectURL(o)}var p={},f=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},h=f(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),m=f(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,b=0,g=[];e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},"undefined"==typeof t.singleton&&(t.singleton=h()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var r=n(e);return a(r,t),function(e){for(var o=[],l=0;l<r.length;l++){var i=r[l],c=p[i.id];c.refs--,o.push(c)}if(e){var s=n(e);a(s,t)}for(var l=0;l<o.length;l++){var c=o[l];if(0===c.refs){for(var d=0;d<c.parts.length;d++)c.parts[d]();delete p[c.id]}}}};var w=function(){var e=[];return function(t,a){return e[t]=a,e.filter(Boolean).join("\n")}}()},446:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(447),o=n(r);t["default"]=o["default"]},447:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(55),o=n(r),l=a(53),i=n(l),c=a(54),s=n(c),d=a(57),u=n(d),p=a(56),f=n(p),h=a(3),m=n(h),v=function(e){function t(e){(0,i["default"])(this,t);var a=(0,u["default"])(this,(0,o["default"])(t).call(this,e));return a.confirm=a.confirm.bind(a),a.cancel=a.cancel.bind(a),a.alertClick=a.alertClick.bind(a),a.closePop=a.closePop.bind(a),a}return(0,f["default"])(t,e),(0,s["default"])(t,[{key:"confirm",value:function(e){e.stopPropagation();var t=this,a=t.props.modal;return a.confirmCallback&&a.confirmCallback(),!a.isBlock&&void this.props.modalClose()}},{key:"cancel",value:function(e){e.stopPropagation();var t=this.props.modal;return t.cancelCallback&&t.cancelCallback(),!t.isBlock&&void this.props.modalClose()}},{key:"alertClick",value:function(e){this.confirm(e)}},{key:"closePop",value:function(e){e.stopPropagation(),this.props.modalClose()}},{key:"render",value:function(){var e=this.props.modal;if(!e.content)return!1;var t=void 0;e.noTitle||(t=m["default"].createElement("h2",{className:"popup-title",dangerouslySetInnerHTML:{__html:e.title||"团长提示"}}));var a=m["default"].createElement("span",{onClick:this.confirm,className:"ok"},e.confirm||"确认"),n=void 0;if(e.cancel?n=m["default"].createElement("span",{onClick:this.cancel,className:"cancel"},e.cancel):a=m["default"].createElement("div",{className:"one-line"},a),e.closeable){m["default"].createElement("div",{className:"popup-tran"})}var r=void 0;e.canClose&&(r=m["default"].createElement("div",{className:"popup-close",onClick:this.closePop}));var o=m["default"].createElement("div",{className:"popup-content",dangerouslySetInnerHTML:{__html:e.content}}),l=void 0,i=void 0,c=e.showImgClass||"popup-icon";switch(e.content){case"showImg":e.desc&&(i=m["default"].createElement("span",null,e.desc)),l=m["default"].createElement("div",{className:"popup-content"},m["default"].createElement("img",{alt:"",src:e.imgSrc,className:c}),i);break;default:l=o}var s=e.popClassStr?"popup-alert "+e.popClassStr:"popup-alert",d=m["default"].createElement("div",{className:"popup-inner"},t,l,a,n),u=m["default"].createElement("div",{className:s},r,d);return"popup-down-alert"===e.popClassStr&&(u=m["default"].createElement("div",{className:s,onClick:this.alertClick},r,d)),m["default"].createElement("div",{className:"popup-wrap"},u)}}]),t}(m["default"].Component);v.propTypes={modal:h.PropTypes.object.isRequired,modalClose:h.PropTypes.func.isRequired,directTo:h.PropTypes.func},v.defaultProps={modal:{title:"团长提示",content:"试玩一下吧",cancel:"取消",cancelCallback:function(){},confirm:"确认",confirmCallback:function(){},isBlock:!1}},t["default"]=v},485:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(55),o=n(r),l=a(53),i=n(l),c=a(54),s=n(c),d=a(57),u=n(d),p=a(56),f=n(p),h=a(3),m=n(h),v=a(82),b=a(58),g=n(b),w=a(446),y=n(w);a(567);var k=function(e){function t(e){(0,i["default"])(this,t);var a=(0,u["default"])(this,(0,o["default"])(t).call(this,e));return a.backPage=g["default"].local.get("backPage")||"home",a.bindWchatCallback=a.bindWchatCallback.bind(a),a.wchatVcodeSubmit=a.wchatVcodeSubmit.bind(a),a.handleChange=a.handleChange.bind(a),a}return(0,f["default"])(t,e),(0,s["default"])(t,[{key:"componentDidMount",value:function(){function e(){t.props.valChange(0,"vcodeVerifyStatus"),t.props.valChange(!1,"modalState"),t.props.valChange({},"modal")}var t=this;(0,v.logEvent)("bindwchat_page"),setTimeout(e,10)}},{key:"bindWchatCallback",value:function(e){var t=this,a=this.props,n=this;return e.code>=200&&e.code<=300?e.nickname&&(g["default"].local.set("hasBindWchat",!0),g["default"].local.set("nickname",e.nickname),setTimeout(function(){return t.props.modalOpen({content:"<h5>您已经成功绑定微信："+e.nickname+"</h5>",confirm:"确认",cancel:"更换绑定",confirmCallback:function(){a.directTo("/"+n.backPage)},cancelCallback:function(){location.reload()}})},10),setTimeout(function(){return a.valChange(!0,"hasBindWchat")},50)):setTimeout(function(){return a.valChange(-1,"vcodeVerifyStatus")},10),e}},{key:"wchatVcodeSubmit",value:function(){var e=/^\d{6}$/,t=this.refs.wchatVcode.value;if(e.test(t)){var a="POST";this.props.hasBindWchat&&(a="PUT");var n={method:a,params:{inv_code:t},querys:{time:Date.now()}};this.props.fetchList("/account/bind/wechat/check/",n,"bindWchatResult",this.bindWchatCallback)}else(0,v.toast)("请正确输入验证码")}},{key:"handleChange",value:function(){var e=this.refs.wchatVcode.value,t=/^\d{6}$/;t.test(e)?(this.props.valChange(1,"vcodeVerifyStatus"),this.wchatVcodeSubmit()):this.props.valChange(0,"vcodeVerifyStatus")}},{key:"render",value:function(){var e=this.props,t=this.props.modalState?m["default"].createElement(y["default"],{modal:this.props.modal,modalClose:this.props.modalClose,directTo:this.props.directTo}):"",a=void 0;return e.vcodeVerifyStatus&&(a=m["default"].createElement("span",{className:~e.vcodeVerifyStatus?"wchat-verify-right":"wchat-verify-wrong"})),m["default"].createElement("div",{className:"main bind-wchat-page container"},m["default"].createElement("div",{className:"safe-rem"},m["default"].createElement("span",{className:"safe-icon"}),"为了您的账户安全，请先进行微信号绑定。"),m["default"].createElement("ul",null,m["default"].createElement("li",null,m["default"].createElement("span",{className:"orange-logo"}),m["default"].createElement("div",{className:"list-wrap"},m["default"].createElement("div",{className:"white-tran-left-wrap"},m["default"].createElement("span",{className:"white-tran-left"})),m["default"].createElement("p",null,"1. 长按并储存下方二维码，打开“微信”扫一扫，识别该二维码，找到公众号（或搜",m["default"].createElement("span",null,"shiwanlife"),"），点击关注。"),m["default"].createElement("div",{className:"public-vcode"},m["default"].createElement("img",{src:"http://cc-cdn.dianjoy.com/91atm/images/public-code.jpg",alt:""}),m["default"].createElement("p",null,"shiwanlife")))),m["default"].createElement("li",null,m["default"].createElement("span",{className:"orange-logo"}),m["default"].createElement("div",{className:"list-wrap"},m["default"].createElement("div",{className:"white-tran-left-wrap"},m["default"].createElement("span",{className:"white-tran-left"})),m["default"].createElement("p",null,"2. 在公众号中，点击“我要绑定”，获取验证码。"))),m["default"].createElement("li",null,m["default"].createElement("span",{className:"orange-logo"}),m["default"].createElement("div",{className:"list-wrap"},m["default"].createElement("div",{className:"white-tran-left-wrap"},m["default"].createElement("span",{className:"white-tran-left"})),m["default"].createElement("p",null,"3. 输入从公众号获取到的验证码。"),m["default"].createElement("div",{className:"wchat-vcode"},m["default"].createElement("input",{type:"number",placeholder:"验证码输入",ref:"wchatVcode",onChange:this.handleChange}),m["default"].createElement("span",{onClick:this.wchatVcodeSubmit,className:"wchat-vcode-submit"},"提交"),a)))),t)}}]),t}(m["default"].Component);k.propTypes={fetchList:h.PropTypes.func.isRequired,directTo:h.PropTypes.func.isRequired,valChange:h.PropTypes.func.isRequired,vcodeVerifyStatus:h.PropTypes.number.isRequired,hasBindWchat:h.PropTypes.bool.isRequired,modalOpen:h.PropTypes.func.isRequired,modalClose:h.PropTypes.func.isRequired,modal:h.PropTypes.object.isRequired,modalState:h.PropTypes.bool.isRequired,bindWchatResult:h.PropTypes.object.isRequired},t["default"]=k},486:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(206),o=a(130),l=a(485),i=n(l),c={fetchList:function(e,t,a,n){return(0,o.fetchList)(e,t,a,n)},directTo:function(e){return(0,o.directTo)(e)},valChange:function(e,t){return(0,o.valChange)(e,t)},modalOpen:function(e){return(0,o.modalOpen)(e)},modalClose:function(){return(0,o.modalClose)()}},s=function(e){return{vcodeVerifyStatus:e.bindWchat.vcodeVerifyStatus,hasBindWchat:e.bindWchat.hasBindWchat,modal:e.bindWchat.modal,modalState:e.bindWchat.modalState,bindWchatResult:e.bindWchat.bindWchatResult}};t["default"]=(0,r.connect)(s,c)(i["default"])},487:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?p:arguments[0],t=arguments[1];if(!~[c.rootPath+"/bind-wchat"].indexOf(location.pathname))return e;var a=u[t.type];return a?a(e,t):e}Object.defineProperty(t,"__esModule",{value:!0});var o=a(129),l=n(o);t["default"]=r;var i=a(21),c=a(44),s=a(58),d=n(s),u=(0,l["default"])({},i.globalHandler),p={vcodeVerifyStatus:0,hasBindWchat:JSON.parse(d["default"].local.get("hasBindWchat"))||!1,modal:{},modalState:!1,bindWchatResult:{}}},549:function(e,t,a){t=e.exports=a(444)(),t.push([e.i,'.safe-rem{color:#007aff;line-height:3.33rem;padding-left:3rem;position:relative}.safe-rem .safe-icon{width:2rem;height:2rem;background:url("http://cc-cdn.dianjoy.com/91atm/images/safe.png");background-size:contain;position:absolute;left:.83rem;top:.62rem}.bind-wchat-page{font-size:1.083rem;color:#333}.bind-wchat-page ul{padding:0 2rem 0 .83rem}.bind-wchat-page ul li:first-child .list-wrap{padding-bottom:.5rem}.bind-wchat-page ul li{position:relative;display:block;padding-left:4rem;padding-bottom:1.667rem}.bind-wchat-page ul li .orange-logo{background:url("http://cc-cdn.dianjoy.com/91atm/images/orange-log.png");background-size:contain;width:3rem;height:3.33rem;position:absolute;left:0;top:0}.bind-wchat-page ul li .list-wrap{padding:.75rem;border:1px solid #e0e0e0;border-radius:.33rem;background:#fff;box-sizing:border-box}.bind-wchat-page ul li .list-wrap p{line-height:1.6rem}.bind-wchat-page ul li .list-wrap p span{color:#007aff}.bind-wchat-page ul li .public-vcode{text-align:center;padding-top:.2rem}.bind-wchat-page ul li .public-vcode img{width:46%;margin:0 auto;vertical-align:top}.bind-wchat-page ul li .public-vcode p{line-height:1.5rem}.bind-wchat-page ul li .public-vcode p span{font-size:1rem;color:#333}.white-tran-left-wrap{position:absolute;left:2.8rem;top:1rem;width:0;height:0;font-size:0;line-height:0;border-color:transparent #e0e0e0 transparent transparent;border-style:solid;border-width:.6417rem}.white-tran-left-wrap .white-tran-left{position:absolute;left:-.5rem;top:-.6rem;width:0;height:0;border-width:.6rem;border-color:transparent #fff transparent transparent;border-style:solid}.wchat-vcode{padding-top:1rem;font-size:1.067rem;position:relative}.wchat-vcode input{width:10rem;background-color:#ededed;line-height:1.067rem;height:1.067rem;padding:.675rem .5rem .675rem 1.067rem;border-radius:1.2rem;font-size:1.067rem;color:#333}.wchat-vcode input::-webkit-input-placeholder{color:hsla(0,0%,80%,.2)}.wchat-vcode input::-moz-placeholder{color:hsla(0,0%,80%,.2)}.wchat-vcode input:-ms-input-placeholder{color:hsla(0,0%,80%,.2)}.wchat-vcode input::placeholder{color:hsla(0,0%,80%,.2)}.wchat-vcode input::-webkit-placeholder{color:hsla(0,0%,80%,.2)}.wchat-vcode .wchat-vcode-submit{display:inline-block;background:rgba(0,122,255,.8);color:#fff;width:6rem;text-align:center;height:2.417rem;line-height:2.417rem;border-radius:1.2rem;margin-left:.583rem}.wchat-vcode .wchat-verify-right,.wchat-vcode .wchat-verify-wrong{width:1.5rem;height:1.5rem;position:absolute;right:7rem;bottom:.6rem}.wchat-vcode .wchat-verify-right{background:url("http://cc-cdn.dianjoy.com/91atm/images/verify-ok.png");background-size:contain}.wchat-vcode .wchat-verify-wrong{background:url("http://cc-cdn.dianjoy.com/91atm/images/verify-error.png");background-size:contain}',""])},567:function(e,t,a){var n=a(549);"string"==typeof n&&(n=[[e.i,n,""]]);a(445)(n,{});n.locals&&(e.exports=n.locals)}});